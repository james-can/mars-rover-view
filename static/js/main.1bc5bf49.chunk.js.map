{"version":3,"sources":["components/SignIn.js","components/Album.js","components/CreateAccount.js","components/DrawerMenu.js","components/DynamicPreloadedImage.js","components/Floating.js","components/MenuItemChild.js","components/AppHome.js","components/UserMenu.js","App.js","serviceWorker.js","index.js"],"names":["SignIn","state","email","password","hasLoginError","redirect","active","route","controller","AbortController","signal","_this","validateEmail","test","handleSubmit","ev","preventDefault","validEmail","emailErrMsg","setState","emailErrorText","hasEmailError","hasPasswordError","fetch","method","body","JSON","stringify","headers","Content-type","then","res","ok","console","log","Error","status","text","props","match","login","referrer","catch","e","field","persist","this","Object","defineProperty","target","value","_this2","classes","react_default","a","createElement","Redirect_default","to","className","main","CssBaseline_default","Paper_default","paper","Avatar_default","avatar","LockOutlined_default","Typography_default","component","variant","form","onSubmit","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","type","autoComplete","autoFocus","onChange","handleTextChange","name","id","Grid_default","container","justify","FormControlLabel_default","control","Checkbox_default","color","label","es_Link","style","textDecoration","Link_default","onClick","handleMenuNav","error","FormHelperText_default","filled","infoMessage","Info_default","fontSize","Button_default","submit","React","Component","withStyles","theme","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","alignItems","marginTop","flexDirection","padding","concat","backgroundColor","palette","secondary","icon","heroUnit","background","heroContent","maxWidth","heroButtons","layout","cardGrid","card","height","cardMedia","paddingTop","cardContent","flexGrow","footer","info","_useState","useState","_useState2","slicedToArray","photos","setPhotos","useEffect","x-auth-token","sessionStorage","getItem","json","abort","Fragment","align","gutterBottom","classNames","map","photo","item","key","img_src","sm","md","lg","Card_default","CardMedia_default","image","title","CardContent_default","AirportShuttle_default","rover","PhotoCameraOutlined_default","camera","full_name","WbSunny_default","sol","CardActions_default","size","EMAIL_EXISTS_MSG","confirmPassword","passwordErrorText","validatePassword","pw1","pw2","length","prevState","_ref","pwErrMsg","_this3","styles","list","fullList","navLink","TemporaryDrawer","left","sideList","List_default","NavLink","activeStyle","ListItem_default","button","ListItemIcon_default","Home_default","ListItemText_default","primary","Divider_default","loggedIn","index","AccountBox_default","PhotoLibrary_default","Drawer_default","open","isOpen","onClose","toggleDrawer","tabIndex","role","onKeyDown","imageStyle","position","top","DynamicPreloadedImage","objectSpread","aspect","src","hidden","show","stationaryStyle","borderRadius","floatingStyle","bottom","Floating","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isScrolledIntoView","el","getBoundingClientRect","offset","handleScroll","isFloating","myRef","current","createRef","window","addEventListener","removeEventListener","posOffset","xs","zIndex","children","ref","absolute","defaultProps","windowSize","MenuItemChild","document","overflow","paddingRight","rovers","curiosity","opportunity","spirit","hexToDec","hex","dec","b","c","d","f","i","parseInt","includes","Math","pow","setManifest","roverName","photo_manifest","toLowerCase","newPhotoArray","j","max_sol","push","earth_date","total_photos","cameras","initializeManifest","fetchurl","response","ex","camSelectContainerStyle","cam","abbrev","full","_abbrev","_full","_totalPhotos","total","cams","roverNames","AppHome","getAvailablePhotos","photosAvailable","handleLoadClick","fetchUrl","self","assertThisInitialized","newCam","setCameraDistrubtion","roverCamIndex","loadImages","camName","images","camNameUpper","toUpperCase","img","Image","originalIndex","onload","onerror","totalPhotos","imageObjects","sliderValue","handleCamChange","handleSliderChange","handleRoverChange","handleSolChange","replace","cameraPhotoCountMap","FHAZ","RHAZ","MAST","CHEMCAM","MAHLI","MARDI","NAVCAM","PANCAM","MINITES","roverCams","_item","tempCam","handleSaveImageClick","_this$state","openSnackBar","err","shouldStackFloatingElements","min","windowWidth","brief","paragraph","mainField","formControl","shrink","Select_default","input","displayEmpty","selectEmpty","MenuItem_default","components_MenuItemChild","TextField_default","solSpinner","helperText","InputLabelProps","components_Floating","sliderContainer","Slider_default","slider","max","step","floatingDisplay","imageContainer","alt","IconButton_default","right","Tooltip_default","AddPhotoAlternateOutlined_default","camSelectContainerNested","camSelect","opacity","maxHeight","minHeight","justifyContent","minWidth","UserMenu","anchorEl","handleMenu","event","currentTarget","handleClose","Boolean","aria-owns","undefined","aria-haspopup","AccountCircle_default","core_Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","logOut","App","pageToDisplay","drawerOpen","snackbarOpen","menuIndexClicked","goHome","arguments","removeItem","openSnackbar","logoutState","handleSnackbarClose","reason","token","setItem","msg","snackBarMsg","tok","BrowserRouter","AppBar_default","appBar","Toolbar_default","aria-label","Menu_default","components_UserMenu","DrawerMenu","logout","Snackbar_default","autoHideDuration","ContentProps","aria-describedby","message","action","Close_default","Switch","Route","exact","path","render","components_AppHome","components_SignIn","CreateAccount","components_Album","es_Redirect","snackBar","dark","location","hostname","someTheme","createMuiTheme","ReactDOM","core_styles","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1bc5bf49.chunk.js","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Redirect from 'react-router-dom/Redirect';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  infoMessage:{\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n    \r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    hasLoginError: false,\r\n    redirect: {\r\n      active: false,\r\n      route: '/mars-rover-view/'\r\n    }\r\n  }\r\n\r\n  controller = new AbortController();\r\n  signal = this.controller.signal;\r\n\r\n  validateEmail = (email) =>{\r\n    return /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(email);\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n  }\r\n\r\n  handleSubmit = (ev) => {\r\n    ev.preventDefault()\r\n    const validEmail = this.validateEmail(this.state.email);\r\n    let emailErrMsg = validEmail ? '' : 'Please enter a valid email';\r\n    this.setState(() => {\r\n      return {\r\n        emailErrorText: emailErrMsg,\r\n        hasEmailError : !validEmail\r\n      }\r\n    })\r\n\r\n    \r\n    if(!validEmail || this.state.hasPasswordError)\r\n      return;\r\n\r\n\r\n    fetch('https://shielded-woodland-10835.herokuapp.com/auth', {\r\n      method: 'POST',\r\n      signal: this.signal,\r\n      body: JSON.stringify({\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      }),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8'\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if(!res.ok){\r\n        console.log('error with new account request');\r\n        this.setState({hasLoginError: true});\r\n        throw new Error('Failed to authenticate, status=' + res.status);\r\n      }\r\n        \r\n\r\n      return res.text();\r\n    })\r\n    .then((res) => {\r\n      console.log(this.props.match);\r\n      this.props.login(this.state.email, res);\r\n      console.log('this.props.referrer: ' + this.props.referrer);\r\n      this.setState({\r\n        redirect:\r\n        {\r\n          active: true, \r\n          // if user was routed here after clicking my gallery, send them to the place they were trying to get to originally\r\n          route: this.props.referrer === 1 ? '/mars-rover-view/my-gallery' : '/mars-rover-view/'} \r\n        })\r\n    })\r\n    .catch(e => console.log('error: ' + e)); \r\n\r\n  }\r\n\r\n  \r\n\r\n  handleTextChange(field, ev){\r\n    ev.persist();\r\n    \r\n    this.setState(() => ({\r\n      [field] : ev.target.value\r\n    }))\r\n  }\r\n\r\n  \r\n    \r\n  render(){\r\n    const { classes } = this.props;\r\n    const { redirect } = this.state;\r\n    \r\n    if(redirect.active){\r\n      return <Redirect to={redirect.route}/>\r\n    }\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={(ev) => this.handleSubmit(ev)}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n              <Input type=\"text\" autoComplete=\"email\" autoFocus value={this.state.email} onChange={(ev) => this.handleTextChange('email', ev)}/>\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n              <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" value={this.state.password} onChange={(ev) => this.handleTextChange('password', ev)}/>\r\n            </FormControl>\r\n            <Grid container justify=\"space-between\">\r\n            <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            />\r\n            <RouterLink style={{textDecoration: 'none',color: 'inherit'}} to=\"/mars-rover-view/create-account\">\r\n            <Link\r\n              \r\n              variant=\"body2\"\r\n              onClick={() => {\r\n                this.props.handleMenuNav(3)\r\n              }}\r\n            >\r\n              Create Account\r\n              \r\n            </Link>\r\n            </RouterLink>\r\n            </Grid>\r\n            <FormControl error>\r\n            {this.state.hasLoginError && <FormHelperText >Invalid email or password</FormHelperText>}\r\n            </FormControl>\r\n            <FormControl>\r\n            {this.props.referrer === 1 && <FormHelperText filled className={classes.infoMessage} ><InfoIcon fontSize=\"small\"/> &nbsp; You must be logged in to access that page</FormHelperText>}\r\n            </FormControl>\r\n            <Button\r\n              \r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign in\r\n            </Button>\r\n          </form>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withStyles(styles)(SignIn);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CameraIcon from '@material-ui/icons/PhotoCameraOutlined';\r\nimport SunIcon from '@material-ui/icons/WbSunny';\r\nimport RoverIcon from '@material-ui/icons/AirportShuttle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing.unit * 2,\r\n  },\r\n  heroUnit: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%'\r\n  },\r\n  heroContent: {\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing.unit * 4}px 0 ${theme.spacing.unit * 3}px`,\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing.unit * 4,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 1100,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  cardGrid: {\r\n    padding: `${theme.spacing.unit * 8}px 0`,\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing.unit * 6,\r\n  },\r\n  info:{\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justify: 'space-between'\r\n  }\r\n});\r\n\r\n\r\n\r\nfunction Album(props) {\r\n  const { classes } = props;\r\n  const controller = new AbortController();\r\n  const signal = controller.signal;\r\n\r\n  const [ photos, setPhotos ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('https://shielded-woodland-10835.herokuapp.com/gallery-saves', {\r\n      method: 'GET',\r\n      signal: signal,\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n        'x-auth-token': sessionStorage.getItem('rover-view-token')\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if(!res.ok){\r\n        console.log('error loading gallery');\r\n        \r\n      }\r\n      \r\n      return res.json();\r\n    })\r\n    .then((res) => {\r\n      \r\n      setPhotos(res);\r\n    })\r\n    .catch(e => console.log('error: ' + e)); \r\n\r\n\r\n    return function cleanup() {\r\n      controller.abort();\r\n    }\r\n  },[]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      \r\n      <main>\r\n        {/* Hero unit */}\r\n        <div className={classes.heroUnit}>\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Gallery\r\n            </Typography>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className={classNames(classes.layout, classes.cardGrid)}>\r\n          {/* End hero unit */}\r\n          <Grid container spacing={40}>\r\n            {photos.map(photo => (\r\n              <Grid item key={photo.img_src} sm={6} md={4} lg={3}>\r\n                <Card className={classes.card}>\r\n                  <CardMedia\r\n                    className={classes.cardMedia}\r\n                    image={photo.img_src} \r\n                    title={`image id: ${photo.id}`}\r\n                  />\r\n                  <CardContent className={classes.cardContent}>\r\n                    \r\n                    <Typography gutterBottom color=\"textSecondary\" className={classes.info}>\r\n                      <RoverIcon fontSize=\"small\"/>\r\n                       &nbsp;{photo.rover.name}\r\n                    </Typography>\r\n                    <Typography gutterBottom color=\"textSecondary\" className={classes.info}>\r\n                      <CameraIcon fontSize=\"small\"/>\r\n                       &nbsp;{photo.camera.full_name}\r\n                    </Typography>\r\n                    <Typography gutterBottom color=\"textSecondary\" className={classes.info}>\r\n                      <SunIcon fontSize=\"small\"/>\r\n                       &nbsp;{photo.sol}\r\n                    </Typography>\r\n                  </CardContent>\r\n                  <CardActions>\r\n                    <Button size=\"small\" color=\"primary\">\r\n                      View\r\n                    </Button>\r\n                    <Button size=\"small\" color=\"primary\">\r\n                      Remove\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </div>\r\n      </main>\r\n      {/* Footer */}\r\n      <footer className={classes.footer}>\r\n       \r\n      </footer>\r\n      {/* End footer */}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nAlbum.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Album);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Redirect from 'react-router-dom/Redirect';\r\nconst PASSWORD = 'password';\r\nconst CONFIRM_PASSWORD = 'confirmPassword';\r\nconst EMAIL = 'email';\r\nconst EMAIL_EXISTS_MSG = 'Email already exists in the system';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n    \r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    hasPasswordError: false,\r\n    hasEmailError: false,\r\n    passwordErrorText: '',\r\n    emailErrorText: '',\r\n    redirect: false\r\n  }\r\n\r\n  controller = new AbortController();\r\n  signal = this.controller.signal;\r\n\r\n  handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    console.log(ev);\r\n    const validEmail = this.validateEmail(this.state.email);\r\n    let emailErrMsg = validEmail ? '' : 'Please enter a valid email';\r\n    this.setState(() => {\r\n      return {\r\n        emailErrorText: emailErrMsg,\r\n        hasEmailError : !validEmail\r\n      }\r\n    })\r\n\r\n    \r\n    if((!validEmail && this.state.emailErrorText !== EMAIL_EXISTS_MSG) || this.state.hasPasswordError)\r\n      return;\r\n\r\n    fetch('https://shielded-woodland-10835.herokuapp.com/users', {\r\n      method: 'POST',\r\n      signal: this.signal,\r\n      body: JSON.stringify({\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      }),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8'\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if(res.status === 400){\r\n        this.setState(() => {\r\n          return {\r\n            hasEmailError: true,\r\n            emailErrorText: EMAIL_EXISTS_MSG\r\n          }\r\n        })\r\n      }\r\n      if(!res.ok)\r\n        throw new Error('error with new account request, status=' + res.status);\r\n\r\n      return res.text();\r\n    })\r\n    .then((res) => {\r\n      this.props.login(this.state.email, res);\r\n      this.setState({redirect: true});\r\n    })\r\n    .catch(e => console.log('error: ' + e));\r\n\r\n\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.controller.abort();\r\n  }\r\n\r\n  validatePassword = (pw1, pw2) =>{\r\n    \r\n    if(pw1 !== pw2)\r\n      return 'Passwords do not match';\r\n\r\n    if(!(/\\d/.test(pw1) && /[a-z]/.test(pw1) && /[A-Z]/.test(pw1)))\r\n      return 'Password should include at least one uppercase letter, one lowercase letter, and one number';\r\n    \r\n    if(pw1.length < 8)\r\n      return 'Password should be at least 8 characters';\r\n\r\n    return '';\r\n  }\r\n\r\n  validateEmail = (email) =>{\r\n    return /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(email);\r\n  }\r\n\r\n  handleTextChange(field, ev){\r\n    ev.persist();\r\n    this.setState((prevState) => {\r\n      let pwErrMsg = '';\r\n      \r\n      switch(field){\r\n        case EMAIL:\r\n        \r\n        break;\r\n        case PASSWORD:\r\n        pwErrMsg = this.validatePassword(ev.target.value, prevState.confirmPassword);\r\n        break;\r\n        case CONFIRM_PASSWORD:\r\n        pwErrMsg = this.validatePassword(ev.target.value, prevState.password);\r\n      }\r\n\r\n      return{\r\n        [field] : ev.target.value,\r\n        passwordErrorText : pwErrMsg,\r\n        hasPasswordError: pwErrMsg.length !== 0,\r\n        \r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n    \r\n  render(){\r\n    const { classes } = this.props;\r\n    if(this.state.redirect){\r\n      return <Redirect to={'/mars-rover-view'}/>\r\n    }\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Create Account\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={(ev) => this.handleSubmit(ev)}>\r\n            <FormControl margin=\"normal\" required fullWidth error={this.state.hasEmailError}>\r\n              <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n              <Input type=\"text\" autoComplete=\"email\" autoFocus value={this.state.email} onChange={(ev) => this.handleTextChange('email', ev)}/>\r\n              {this.state.hasEmailError && <FormHelperText >{this.state.emailErrorText}</FormHelperText>}\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth error={this.state.hasPasswordError}>\r\n              <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n              <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" value={this.state.password} onChange={(ev) => this.handleTextChange('password', ev)}/>\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth error={this.state.hasPasswordError}>\r\n              <InputLabel htmlFor=\"password\">Confirm Password</InputLabel>\r\n              <Input name=\"password\" type=\"password\" id=\"confirm-password\" autoComplete=\"current-password\" value={this.state.confirmPassword} onChange={(ev) => this.handleTextChange('confirmPassword', ev)}/>\r\n              <FormHelperText >{this.state.passwordErrorText}</FormHelperText>\r\n            </FormControl>\r\n            {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n            <Button\r\n              \r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Create Account\r\n            </Button>\r\n          </form>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nSignIn.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport AccountBox from '@material-ui/icons/AccountBox';\r\nimport GalleryIcon from '@material-ui/icons/PhotoLibrary';\r\n\r\nimport { NavLink as Link } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  list: {\r\n    width: 250,\r\n  },\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n  navLink:{\r\n    textDecoration: 'none',\r\n    color: 'inherit'\r\n  }\r\n};\r\n\r\nclass TemporaryDrawer extends React.Component {\r\n  state = {\r\n    \r\n    left: false,\r\n    \r\n  };\r\n\r\n  /* componentDidMount(){\r\n    this.setState(() => {\r\n      return {\r\n        loggedIn : sessionStorage.getItem(\"rover-view-token\") !== null\r\n      }\r\n    })\r\n  } */\r\n\r\n  \r\n\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    const sideList = (\r\n      <div className={classes.list}>\r\n        <List>\r\n          <Link activeStyle={styles.navLink} to=\"/mars-rover-view\">\r\n            <ListItem button /* onClick={() => this.props.goHome()} */>\r\n              <ListItemIcon><HomeIcon/></ListItemIcon>\r\n              <ListItemText primary='Rover View' />\r\n            </ListItem>\r\n          </Link>\r\n        </List>\r\n        <Divider /> \r\n        <List>\r\n          {[this.props.loggedIn ? 'Sign Out': 'Sign in', 'My Gallery'].map((text, index) => (\r\n            <Link activeStyle={styles.navLink} key={text} to={index % 2 === 0 ?'/mars-rover-view/sign-in' : '/mars-rover-view/my-gallery'}> \r\n            <ListItem button onClick={() => this.props.handleMenuNav(index)} >\r\n              \r\n              <ListItemIcon>{index % 2 === 0 ? <AccountBox /> : <GalleryIcon />}</ListItemIcon> \r\n              \r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    );\r\n\r\n    \r\n\r\n    return (\r\n      <div>\r\n        <Drawer open={this.props.isOpen} onClose={() => this.props.toggleDrawer(false)}>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={() => this.props.toggleDrawer(false)}\r\n            onKeyDown={() => this.props.toggleDrawer(false)}\r\n          >\r\n            {sideList}\r\n          </div>\r\n        </Drawer>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTemporaryDrawer.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(TemporaryDrawer);\r\n\r\n\r\n","import React, { Component } from 'react'\r\n\r\nconst imageStyle = { \r\n    margin: '0 auto', \r\n    width: '100%', \r\n    position: 'relative',\r\n    top: 0,\r\n    left: 0\r\n};\r\n\r\nexport default (props) =>{\r\n    return (\r\n        <React.Fragment>\r\n        <img style={{height: `${1 / props.aspect}%`, ...imageStyle}} src={props.src} hidden={!props.show}/>\r\n        \r\n                \r\n                </React.Fragment>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport windowSize from 'react-window-size';\r\n\r\nconst stationaryStyle = {\r\n   \r\n    width: '100%',\r\n    maxWidth: '600px',\r\n    borderRadius: '9999px', \r\n    \r\n    backgroundColor: '#ccc'\r\n};\r\n\r\nconst floatingStyle = {\r\n    bottom: 'auto',\r\n    \r\n    position: 'fixed',\r\n    ...stationaryStyle\r\n};\r\n\r\nclass Floating extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n\r\n        this.state = {\r\n            isFloating: false\r\n        };\r\n    }\r\n\r\n    isScrolledIntoView = (el) => {\r\n        const rect = el.getBoundingClientRect();\r\n        return (rect.top >= this.props.offset);\r\n    }\r\n\r\n    handleScroll = (ev) =>{\r\n        const isFloating = !this.isScrolledIntoView(this.myRef.current);\r\n        \r\n        this.setState({isFloating: isFloating});\r\n    };\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n\r\n  render() {\r\n    // ugly way of determining whether to stack\r\n    // if adding any more instances, then should make this into its own prop\r\n    const shouldStackElement = this.props.offset < -30;\r\n    const posOffset = shouldStackElement ? this.props.offset -64 : this.props.offset; \r\n    return (\r\n        <React.Fragment>\r\n            <Grid container  >\r\n                <Grid item xs={12}>\r\n                <span style={{}}></span>\r\n                <div  style={{zIndex: this.props.zIndex ,...(this.state.isFloating ? {...floatingStyle, top: 20 - this.props.offset} : stationaryStyle)}} >\r\n                {this.props.children}\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            <span ref={this.myRef} style={{height: '56px', ...(this.props.absolute ? {position: 'absolute', top: posOffset, left: posOffset, }:{})}}/>\r\n       \r\n        </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nFloating.defaultProps = {offset: 0, absolute: false, zIndex: 1};\r\n\r\nexport default windowSize(Floating);\r\n","import React, { Component } from 'react';\r\n\r\n\r\nclass MenuItemChild extends Component {\r\n\r\n    // This component's sole purpose is a workaround for Material ui issue:\r\n    // https://github.com/material-components/material-components-web/issues/2246\r\n    componentWillUpdate(){\r\n        document.body.style.overflow = 'scroll';\r\n        document.body.style.paddingRight = 0;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {this.props.children}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MenuItemChild\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport Slider from '@material-ui/lab/Slider';\nimport DynamicPreloadedImage from './DynamicPreloadedImage'\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Paper from '@material-ui/core/Paper';\nimport 'whatwg-fetch';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Floating from './Floating';\nimport windowSize from 'react-window-size';\nimport MenuItemChild from './MenuItemChild';\nimport IconButton from '@material-ui/core/IconButton';\nimport StarBorderIcon from '@material-ui/icons/AddPhotoAlternateOutlined';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n//manifest objects to store useful information about each rover\nconst rovers = {curiosity: {}, opportunity: {}, spirit: {}};\nconst hexToDec = (hex) => {\n  \n  let dec = 0;\n  const map = {'a': 10, 'b': 11, 'c': 12, 'd': 13, 'e': 14, 'f': 15};\n  for(let i = 0; i < hex.length; i++ ){\n    dec += parseInt('abcdef'.includes(hex[i]) ? map[hex[i]] : hex[i]) * Math.pow(16, hex.length - 1 - i);\n  }\n  return dec;\n};\nconst hexToRgb = (hex) => [hexToDec(`${hex[1]}${hex[2]}`), hexToDec(`${hex[3]}${hex[4]}`), hexToDec(`${hex[5]}${hex[6]}`)];\n\nconst setManifest = (json) => {\n  \n  var roverName = json.photo_manifest.name.toLowerCase();\n  rovers[roverName] = json.photo_manifest;\n\n  var newPhotoArray = [];\n\n  const { photos } = json.photo_manifest;\n\n\n  // since the sols with 0 photos completely omit the element from the array,\n  // re-map the array with placeholder elements with value of 0 to make  \n  // it easier to navigate\n\n  for(let i = 0, j = 0; newPhotoArray.length < rovers[roverName].max_sol; i++){\n    newPhotoArray.push(photos[j].sol === i ? photos[j++] : {sol: i , earth_date: '', total_photos: 0 , cameras: []});\n  }\n\n  rovers[roverName].photos = newPhotoArray;\n};\n\nconst initializeManifest = (index) =>{\n  \n  let fetchurl = `https://shielded-woodland-10835.herokuapp.com/manifests/${index}`;\n  \n  fetch(fetchurl)\n  .then((response) => {\n    return response.json()\n  }).then(setManifest).catch((ex) => {\n    console.log('parsing failed', ex);\n    initializeManifest(index);\n  });\n\n}\n\n\n\nconst camSelectContainerStyle = {\n  position: 'absolute',top: 10,left: 10,\n  maxWidth: '600px'\n};\n\nconst styles = (theme) => {\n\n  const rgb = hexToRgb(theme.palette.primary.main);\n  \n  \n  return {\n    slider:{\n      padding: theme.spacing.unit,\n    },\n    floatingDisplay:{\n      color: theme.palette.primary.main,\n      \n    },\n    sliderContainer:{\n      \n      padding: '0 16px'\n    },\n    camSelect:{\n      opacity: 1,\n      maxHeight: '100px'\n    },\n    \n    camSelectContainerNested:{\n      backgroundColor: `rgba(66,66,66, .9)`,\n     \n    },\n\n    imageContainer:{\n      position: 'relative', left: 0, top: 0,\n      alignItems: 'flex-start',\n      minHeight: '1000px',\n      justifyContent: 'flex-start'\n    },\n    \n    button:{\n      margin: theme.spacing.unit\n    },\n    heroUnit: {\n      backgroundColor: theme.palette.background.paper,\n      width: '100%'\n    },\n    heroContent: {\n      maxWidth: 600,\n      margin: '0 auto',\n      padding: `${theme.spacing.unit * 4}px 0 ${theme.spacing.unit * 3}px`,\n    },\n    layout: {\n      width: 'auto',\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3,\n      [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n        width: 1100,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    cardGrid: {\n      padding: `${theme.spacing.unit}px 0`,\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      width: 120,\n\n    },\n    mainField:{\n      width: '90%'\n    },\n    camera:{\n      minWidth: 80\n    },\n    brief:{\n      fontSize: '.75em'\n    }\n  }\n};\n\nclass cam{\n  constructor(abbrev, full){\n    this._abbrev = abbrev;\n    this._full = full;\n    this._totalPhotos = 0;\n  }\n  get abbrev(){\n    return this._abbrev;\n  }\n  get full(){\n    return this._full;\n  }\n  get totalPhotos(){\n    return this._totalPhotos;\n  }\n  set totalPhotos(total){\n    this._totalPhotos = total;\n  }\n}\n\n\n\nconst cams = [\n new cam('fhaz', 'Front Hazard Avoidance'),\n  new cam('rhaz', 'Rear Hazard Avoidance'),\n  new cam('mast', 'Mast'),\n  new cam('chemcam', 'Chemistry and Camera Complex'),\n  new cam('mahli', 'Mars Hand Lens Imager'),\n  new cam('mardi', 'Mars Descent Imager'),\n  new cam('navcam', 'Navigation'),\n  new cam('pancam', 'Panoramic'),\n  new cam('minites', 'Miniature Thermal Emission Spectrometer')\n];\nconst roverNames = ['curiosity', 'opportunity', 'spirit'];\n\nclass AppHome extends React.Component{\n  constructor(props){\n    \n    super(props);\n    this.state = {\n      sliderValue: 0,\n      rover: 0,       // index to select which of the three rovers (0: curiosity, 1: opportunity, 2: spirit),\n                      // used for the select menu\n\n      roverCamIndex:0,// gets updated with the value of rover when load is clicked.  This is the value\n                      // which is actually used to pull data.\n\n      totalPhotos:0,  // total photos for this rover on this sol (as opposed to a specific camera)\n      cam: '',\n      sol: '0',\n      photosAvailable: 3702,\n      imageObjects:[],\n      photos: [],\n      roverCams : [\n        [0,1,2,3,4,5,6].map((item)=> cams[item]),\n        [0,1,6,7,8].map((item)=> cams[item]),\n        [0,1,6,7,8].map((item)=> cams[item])\n      ],\n      \n    }\n  }\n\n  getAvailablePhotos = () =>{\n    if(rovers.curiosity.photos && rovers.opportunity.photos && rovers.spirit.photos){\n      this.setState((prevState, props)=>({\n        photosAvailable : rovers[roverNames[prevState.rover]].photos[prevState.sol || 0].total_photos\n      }));\n    }\n  }\n\n  handleLoadClick = (ev) => {\n    \n    const fetchUrl = `https://shielded-woodland-10835.herokuapp.com/${roverNames[this.state.rover]}/${this.state.sol}`;\n    const self = this;\n    fetch(fetchUrl)\n    .then(function(response) {\n      return response.json()\n    }).then(function(json) {\n      self.setCameraDistrubtion(json.photos);\n      \n      var newCam;\n      self.setState((prevState, props) => {\n        newCam = prevState.rover === 0 ? 'mast' : 'pancam';\n        \n        return {\n          photos: json.photos,\n          cam: newCam,\n          roverCamIndex: prevState.rover\n        }\n      });\n      self.loadImages(newCam);\n    }).catch(function(ex) {\n      console.log('parsing failed', ex)\n    });\n    \n  }\n\n  \n  loadImages = (camName) => {\n    // Thought I needed promises, but looks like I can let the user\n      // start browsing the partially loaded photos before they're all \n      // loaded.\n\n      // Will leave it commented for now but probably will delete it entirely\n      //var promises = [];\n      var images = [];\n      const camNameUpper = camName.toUpperCase();\n      \n      for(let i in this.state.photos){\n\n        // Selectively load the images from the camera the user selects, only once they've selected it.\n        if(camNameUpper === this.state.photos[i].camera.name){\n          let img = new Image();\n          img.src = this.state.photos[i].img_src;\n          img.originalIndex = i; // This allows for saving the correct image when user adds to gallery\n          //promises.push(new Promise((resolve, reject)=>{\n            img.onload = () =>{\n              //resolve(img.src);\n            }\n            img.onerror = () =>{\n              //reject(img.src);\n            }\n          //}));\n\n          images.push(img);\n        }\n      }\n\n      this.setState((prevState, props) =>(\n        {\n        totalPhotos: images.length,//prevState.photos.length,\n        imageObjects: [...images],/* , prevState.imageObjects */\n        sliderValue: images.length > 0 ? 1 : 0\n      }));\n\n      /* Promise.all(promises).then(()=>{\n        console.log('all images loaded');\n        \n      }).catch((errUrl)=>{\n        console.log('failed to load: ' + errUrl);\n      }); */\n  }\n\n  handleCamChange = (ev) =>{\n    \n    this.setState({\n      cam: ev.target.value\n    });\n    this.loadImages(ev.target.value);\n  }\n  \n  handleSliderChange = (ev, value) =>{\n    this.setState({\n      sliderValue: value\n    });\n  }\n\n  handleRoverChange = (ev) =>{\n    \n    this.setState({\n      rover: ev.target.value,\n      \n    });\n    \n    this.getAvailablePhotos();\n  }\n  \n\n  handleSolChange = (ev) =>{\n    const { value } = ev.target;\n    if(/^\\d*$/.test(value) &&  value >= 0  && value < rovers[roverNames[this.state.rover]].max_sol ){ // make sure the number is a number and is in range\n      this.setState({sol: /^0?$/.test(value) ? 0 : value.replace(/^0*/, '')}); // see if input is 0 or empty string, otherwise trim leading zeros\n      this.getAvailablePhotos();\n    }\n  }\n\n  // This is to update the photo count next to each camera in the select menu\n  setCameraDistrubtion = (photos) => {\n    this.setState((prevState, props) => {\n\n      var cameraPhotoCountMap = {'FHAZ':0, 'RHAZ':0, 'MAST':0, 'CHEMCAM':0, 'MAHLI':0, 'MARDI':0, 'NAVCAM':0, 'PANCAM':0, 'MINITES':0};\n\n      for(let i in photos)\n        cameraPhotoCountMap[photos[i].camera.name]++; \n\n        return {\n          roverCams: prevState.roverCams.map((item, index) => \n          prevState.rover === index ? \n          item.map((_item) => {\n            // Spread operator only seems to work on object literals, making this variable necessary:\n            let tempCam = {abbrev: _item.abbrev, full: _item.full, totalPhotos: 0};\n            return({...tempCam, totalPhotos: cameraPhotoCountMap[_item.abbrev.toUpperCase()]})\n          }) \n          : item)\n        }\n    });\n  }\n\n  componentDidMount(){\n    for(let i in rovers){\n      initializeManifest(i);\n    }\n  }\n\n  handleSaveImageClick = () =>{\n    if(!this.props.loggedIn)\n     return;\n\n\n\n    const { imageObjects, sliderValue, photos } = this.state;\n\n    fetch('https://shielded-woodland-10835.herokuapp.com/gallery-saves', {\n      method: 'POST',\n      body: JSON.stringify({\n        photo: JSON.stringify(photos[imageObjects[sliderValue - 1].originalIndex])\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        'x-auth-token': sessionStorage.getItem(\"rover-view-token\")\n      }\n    })\n    .then((res) => {\n      if(!res.ok)\n        throw new Error('HTTP error, status = ' + res.status);\n      this.props.openSnackBar('Added to gallery');\n      return res.json();\n    })\n    .then((res) => console.log(res))\n    .catch(err => console.log(err));\n\n  }\n\n  render(){\n    const { classes } = this.props;\n    const camGridSize = 3;\n    const camSelectRightBounds = Math.min(this.props.windowWidth, 600) * (camGridSize/12) + 50;\n    const shouldStackFloatingElements = camSelectRightBounds > (this.props.windowWidth - 600) / 2;\n    return (\n     \n      <React.Fragment>\n        <CssBaseline />\n        \n        <main>\n            {/* Hero unit */}\n            <div className={classes.heroUnit}>\n              <div className={classes.heroContent}>\n                  <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n                    Rover View\n                  </Typography>\n                  <Typography className={classes.brief} variant=\"h6\" align=\"center\" color=\"textSecondary\" paragraph>\n                    Choose a rover, camera, and sol(Martian day, starting from the beginning of the mission), click load, and use the slider to animate the images\n                  </Typography>\n                  <div >\n                    <Grid container  justify=\"space-evenly\" alignItems=\"center\" >\n                        <Grid item xs={6} sm={5} >\n                          <Grid container justify=\"center\" >\n                              <FormControl className={classNames(classes.mainField, classes.formControl)} >\n                                <InputLabel shrink >\n                                    Rover\n                                </InputLabel>\n                                <Select\n                                value={this.state.rover}\n                                onChange={this.handleRoverChange}\n                                input={<Input name=\"rover\"/>}\n                                displayEmpty\n                                name=\"rover\"\n                                className={classes.selectEmpty}\n                                >\n                                <MenuItem value={0}><MenuItemChild>Curiosity</MenuItemChild></MenuItem>\n                                <MenuItem value={1}><MenuItemChild>Opportunity</MenuItemChild></MenuItem>\n                                <MenuItem value={2}><MenuItemChild>Spirit</MenuItemChild></MenuItem>\n                                </Select>\n                                <FormHelperText/>\n                              </FormControl>\n                          </Grid>\n                        </Grid>\n                        <Grid item xs={6} sm={1} >\n                        </Grid>\n                        <Grid item xs={6} sm={3} >\n                          <Grid container justify=\"center\">\n                              <FormControl className={classNames(classes.mainField, classes.formControl)}>\n                                <TextField \n                                className={classes.solSpinner}\n                                label=\"Sol\"\n                                value={(this.state.sol)}\n                                onChange={this.handleSolChange}\n                                type=\"number\"\n                                helperText={`of ${rovers[roverNames[this.state.rover]].max_sol - 1 || 2360}`}\n                                InputLabelProps={{\n                                shrink: true,\n                                }}\n                                />\n                              </FormControl>\n                          </Grid>\n                        </Grid>\n                        <Grid item xs={6} sm={3}>\n                          <Button onClick={this.handleLoadClick} variant=\"contained\" color=\"primary\" className={classes.button} >\n                          Load\n                          </Button>\n                          <FormHelperText>{this.state.photosAvailable} photos available </FormHelperText>\n                        </Grid>\n                        <Floating \n                          offset={6}\n                          zIndex={3}\n                          >\n                          <Grid container justify=\"space-evenly\" alignItems='center' className={classes.sliderContainer}>\n                            <Grid item xs={10}>\n                                <Slider\n                                  className={classes.slider}\n                                  value={this.state.sliderValue}\n                                  min={1}\n                                  max={this.state.totalPhotos}\n                                  step={1}\n                                  onChange={this.handleSliderChange}\n                                  />\n                            </Grid>\n                            <Grid item xs={2} align=\"center\">\n                                <Typography variant=\"h6\" className={classes.floatingDisplay} >\n                                  {this.state.sliderValue}\n                                </Typography>\n                            </Grid>\n                          </Grid>\n                        </Floating>\n                    </Grid>\n                  </div>\n              </div>\n            </div>\n            <div className={classNames(classes.layout, classes.cardGrid)}>\n              \n              <Card className={classes.card}>\n                  <CardContent>\n                    <div  className={classes.imageContainer}>\n                        \n                      {this.state.imageObjects.map((item, index)=>\n                      <DynamicPreloadedImage \n                      aspect={item.width/item.height} \n                      show={this.state.sliderValue - 1 === index} \n                      src={item.src} \n                      key={item.src} \n                      alt={`frame ${index}`}/>)}\n                      \n                      \n\n                      {this.state.photos.length > 0 && \n                      <React.Fragment>\n                        {this.state.imageObjects.length > 0 && <IconButton onClick={this.handleSaveImageClick} style={{position: 'absolute', top:'5px', right: '5px',  zIndex: 2}}>\n                          <Tooltip title={this.props.loggedIn ? 'Add to My Gallery' : 'Sign in to add'}><StarBorderIcon /></Tooltip>\n                        </IconButton>}\n                        <Floating \n                          offset={shouldStackFloatingElements ? -40 : 16}\n                          absolute>\n                          \n                          <Grid container   justify=\"space-between\" style={{...camSelectContainerStyle, width: this.props.windowWidth - 90}}>\n                              <Grid item xs={camGridSize}>\n                                <Paper className={classes.camSelectContainerNested}>\n                                    <FormControl className={classNames(classes.mainField, classes.formControl)} >\n                                      <InputLabel  shrink >\n                                          Camera\n                                      </InputLabel>\n                                      <Select\n                                      value={this.state.cam || ' '}\n                                      onChange={this.handleCamChange}\n                                      input={<Input name=\"camera\"/>}\n                                      displayEmpty\n                                      name=\"camera\"\n                                      className={classNames(classes.selectEmpty)}\n                                      >\n                                      {this.state.roverCams[this.state.roverCamIndex].map((item, index) => \n                                      (item.totalPhotos > 0 || this.state.cam === item.abbrev) && \n                                      <MenuItem \n                                          key={index} \n                                          value={item.abbrev}>\n                                          <MenuItemChild>\n                                          {item.full}{` (${item.totalPhotos})`} \n                                          </MenuItemChild>\n                                      </MenuItem>\n                                      )}\n                                      </Select>\n                                      <FormHelperText>\n                                          {`rover: ${roverNames[this.state.roverCamIndex]}`}\n                                      </FormHelperText>\n                                    </FormControl>\n                                </Paper>\n                              </Grid>\n                          </Grid>\n                        </Floating>\n                      </React.Fragment>\n                      /*end conditional */}\n                    </div>\n                  </CardContent>\n              </Card>\n            </div>\n        </main>\n      </React.Fragment>\n      \n    );\n  }\n}\n\nAppHome.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default windowSize(withStyles(styles)(AppHome));\n","import React, { Component } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MenuItemChild from './MenuItemChild';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nclass UserMenu extends Component {\r\n    state = {\r\n        anchorEl: null\r\n    };\r\n\r\n    handleMenu = event => {\r\n        this.setState({ anchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null });\r\n    };\r\n\r\n    \r\n    render() {\r\n        \r\n        const { anchorEl } = this.state;\r\n        const open = Boolean(anchorEl);\r\n        return (\r\n            <div>\r\n            <Tooltip title={this.props.email}>\r\n            \r\n            <IconButton\r\n                aria-owns={open ? \"menu-appbar\" : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleMenu}\r\n                color=\"inherit\"\r\n            >\r\n                <AccountCircle />\r\n            </IconButton>\r\n            \r\n            </Tooltip>\r\n            <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\"\r\n                }}\r\n                transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\"\r\n                }}\r\n                open={open}\r\n                onClose={this.handleClose}\r\n            >\r\n                \r\n                <MenuItem onClick={() => this.props.logOut()}>\r\n                    <MenuItemChild>\r\n                        <RouterLink style={{textDecoration: 'none', color: 'inherit'}} to=\"/mars-rover-view/sign-in\">Sign Out</RouterLink>\r\n                    </MenuItemChild>\r\n                </MenuItem>\r\n                \r\n            </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserMenu;","import React, { Component } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport SignIn from './components/SignIn';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Album from './components/Album';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CreateAccount from './components/CreateAccount';\r\nimport 'whatwg-fetch';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport TemporaryDrawer from './components/DrawerMenu';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AppHome from './components/AppHome';\r\nimport UserMenu from './components/UserMenu';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\r\n\r\nconst styles = (theme) => {\r\n\r\n    return {\r\n      \r\n      appBar: {\r\n        position: 'relative',\r\n        width: '100%'\r\n      },\r\n\r\n      snackBar:{\r\n        color: '#FFF',\r\n        backgroundColor: theme.palette.primary.dark\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n \r\n  \r\n  class App extends Component {\r\n    state = {\r\n        pageToDisplay: 2,\r\n        drawerOpen: false,\r\n        loggedIn: false,\r\n        snackbarOpen: false,\r\n        email: '',\r\n        menuIndexClicked: 0\r\n    }\r\n\r\n    controller = new AbortController();\r\n    signal = this.controller.signal;\r\n\r\n    toggleDrawer = ( open)  => {\r\n      \r\n      this.setState({\r\n        drawerOpen: open,\r\n      });\r\n      \r\n    };\r\n    \r\n    componentDidMount(){\r\n      \r\n      const tok = sessionStorage.getItem(\"rover-view-token\");\r\n\r\n      if(!tok)\r\n      return;\r\n\r\n      console.log('token exists');\r\n\r\n      fetch('https://shielded-woodland-10835.herokuapp.com/users/me', {\r\n        method: 'GET',\r\n        signal : this.signal,\r\n        headers: {\r\n          'Content-type': 'application/json; charset=UTF-8',\r\n          'x-auth-token': tok\r\n        }\r\n      })\r\n      .then((res) => {\r\n        if(!res.ok){\r\n          console.log('Authentication error occurred');\r\n          this.logOut(false);\r\n        }\r\n          \r\n\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        this.setState({\r\n          loggedIn: true,\r\n          email: res.email\r\n        })\r\n        \r\n      })\r\n      .catch(e => console.log('error: ' + e));\r\n    }\r\n\r\n    componentWillUnmount(){\r\n      this.controller.abort();\r\n    }\r\n\r\n    goHome = () =>{\r\n      \r\n      this.setState(() => ({\r\n        pageToDisplay: 2\r\n      }))\r\n    }\r\n  \r\n    logOut = (show = true) =>{\r\n      console.log('LOGGED OUT');\r\n      sessionStorage.removeItem(\"rover-view-token\");\r\n      \r\n      this.openSnackbar('Signed out', show);\r\n\r\n      this.setState(() => {\r\n\r\n        return {\r\n          loggedIn:false,\r\n          email: '',\r\n          menuIndexClicked: 0\r\n        }\r\n      })\r\n    }\r\n\r\n    handleMenuNav = (index) =>{\r\n      \r\n      this.setState((prevState) => {\r\n        \r\n        let logoutState = {};\r\n        if(index === 0 && prevState.loggedIn){// this means sign out was clicked\r\n          this.openSnackbar('Signed out');\r\n          sessionStorage.removeItem('rover-view-token');\r\n          logoutState = {\r\n            loggedIn:false,\r\n            email: '',\r\n            \r\n          };\r\n        } \r\n          \r\n        return{\r\n          ...logoutState,\r\n          menuIndexClicked: index // 0: sign in/out 1: gallery, 2: home\r\n        }})\r\n    }\r\n\r\n    handleSnackbarClose = (event, reason) => {\r\n      if (reason === 'clickaway') {\r\n        return;\r\n      }\r\n  \r\n      this.setState({ snackbarOpen: false });\r\n    };\r\n\r\n    login = (email, token) =>{\r\n      sessionStorage.setItem(\"rover-view-token\", token);\r\n      this.openSnackbar(`Signed in as ${email}`);\r\n      this.setState((prevState) => {\r\n        return {\r\n          loggedIn : true,\r\n          email,\r\n          \r\n        }\r\n      })\r\n    }\r\n\r\n    openSnackbar = (msg, open = true) =>{\r\n      \r\n      this.setState(() => {\r\n        return {\r\n          snackBarMsg: msg,\r\n          snackbarOpen: open\r\n        }\r\n      })\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n      const { classes } = this.props;\r\n      const { loggedIn } = this.state;\r\n      return (\r\n        <BrowserRouter >\r\n        <React.Fragment>\r\n          \r\n            <AppBar position=\"static\" className={classes.appBar}>\r\n                <Toolbar>\r\n                {/*<Typography  variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Rover View\r\n                </Typography>*/}\r\n                <Grid container justify=\"space-between\">\r\n                <IconButton onClick={() => this.toggleDrawer(true)} style={{marginLeft: -12, marginRight: 20}} color=\"inherit\" aria-label=\"Menu\">\r\n                <MenuIcon />\r\n                </IconButton> \r\n                {this.state.loggedIn && <UserMenu email={this.state.email} logOut={this.logOut}/>}\r\n                </Grid>\r\n                <TemporaryDrawer loggedIn={this.state.loggedIn} logout={this.logOut} toggleDrawer={this.toggleDrawer} isOpen={this.state.drawerOpen} goHome={this.goHome} handleMenuNav={this.handleMenuNav}/>\r\n                </Toolbar>\r\n                \r\n                <Snackbar\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                  }}\r\n                  open={this.state.snackbarOpen}\r\n                  autoHideDuration={6000}\r\n                  onClose={this.handleSnackbarClose}\r\n                  ContentProps={{\r\n                    'aria-describedby': 'message-id',\r\n                  }}\r\n                  message={<span id=\"message-id\">{this.state.snackBarMsg}</span>}\r\n                  action={[\r\n                    \r\n                    <IconButton\r\n                      key=\"close\"\r\n                      aria-label=\"Close\"\r\n                      color=\"inherit\"\r\n                      \r\n                      onClick={this.handleSnackbarClose}\r\n                    >\r\n                      <CloseIcon />\r\n                    </IconButton>,\r\n                  ]}\r\n                />\r\n                \r\n            </AppBar>\r\n            \r\n                <Switch>\r\n                <Route exact path=\"/mars-rover-view\" render={(props) => <AppHome loggedIn={this.state.loggedIn} openSnackBar={this.openSnackbar}/>}/>\r\n                <Route exact path=\"/mars-rover-view/sign-in\" render={(props) => <SignIn referrer={this.state.menuIndexClicked} handleMenuNav={this.handleMenuNav} login={this.login}/>}/>\r\n                <Route exact path=\"/mars-rover-view/create-account\" render={(props) => <CreateAccount login={this.login}/> }/>\r\n                {/*referrer of 1 indicates to do automatically navigate to the second element after logging in(album/gallery), default is 2 (home)*/}\r\n                \r\n                <Route path='/mars-rover-view/my-gallery' render={() => (\r\n                  loggedIn ?\r\n                  <Album/>:\r\n                  <Redirect to=\"/mars-rover-view/sign-in\"/>\r\n                )}/>\r\n                </Switch>\r\n                \r\n             \r\n            \r\n            \r\n        </React.Fragment>\r\n        </BrowserRouter>\r\n      )\r\n    }\r\n  }\r\n  \r\n  class ProtectedRoute extends Component {\r\n    render() {\r\n      const { component: Component, loggedIn, ...props } = this.props\r\n      \r\n      return (\r\n        <Route \r\n          {...props} \r\n          render={props => {\r\n            \r\n            return(\r\n            loggedIn ?\r\n              <Component {...props} /> :\r\n              <Redirect to='/sign-in' />\r\n          )}} \r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  export default withStyles(styles)(App);\r\n  ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport blue from '@material-ui/core/colors/blue';\n\nconst someTheme = createMuiTheme({\n    palette: {\n        type: 'dark',\n        \n        secondary: {\n          main: '#b71c1c',\n        },\n        primary: {\n            main: '#ab5810',\n          },\n      },\n});\n\nReactDOM.render(<MuiThemeProvider theme={someTheme}><App /></MuiThemeProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}