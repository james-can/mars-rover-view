{"version":3,"sources":["DynamicPreloadedImage.js","App.js","serviceWorker.js","index.js"],"names":["DynamicPreloadedImage","props","react_default","a","createElement","style","margin","width","height","concat","aspect","src","hidden","show","rovers","curiosity","opportunity","spirit","setManifest","json","console","log","roverName","photo_manifest","name","toLowerCase","newPhotoArray","photos","i","j","length","max_sol","push","sol","earth_date","total_photos","cameras","initializeManifest","index","fetchurl","fetch","then","response","catch","ex","Object","keys","cam","abbrev","full","classCallCheck","this","_abbrev","_full","_totalPhotos","total","cams","roverNames","App","_this","possibleConstructorReturn","getPrototypeOf","call","getAvailablePhotos","setState","prevState","photosAvailable","rover","handleLoadClick","ev","fetchUrl","state","self","assertThisInitialized","newCam","setCameraDistrubtion","roverCamIndex","loadImages","camName","images","camNameUpper","toUpperCase","camera","img","Image","img_src","onload","onerror","totalPhotos","imageObjects","sliderValue","handleCamChange","target","value","handleSliderChange","handleRoverChange","handleSolChange","test","replace","cameraPhotoCountMap","FHAZ","RHAZ","MAST","CHEMCAM","MAHLI","MARDI","NAVCAM","PANCAM","MINITES","roverCams","map","item","_item","tempCam","objectSpread","_this2","classes","Fragment","CssBaseline_default","AppBar_default","position","className","appBar","Toolbar_default","Typography_default","variant","color","noWrap","heroUnit","heroContent","component","align","gutterBottom","brief","paragraph","Grid_default","container","spacing","justify","alignItems","xs","sm","FormControl_default","formControl","InputLabel_default","shrink","Select_default","onChange","input","Input_default","displayEmpty","selectEmpty","MenuItem_default","FormHelperText_default","key","TextField_default","solSpinner","label","type","helperText","InputLabelProps","Button_default","onClick","button","Slider_default","slider","min","max","step","classNames","layout","cardGrid","imageContainer","alt","React","Component","withStyles","theme","padding","unit","totalSolDisplay","minHeight","backgroundColor","palette","background","paper","maxWidth","defineProperty","marginLeft","marginRight","breakpoints","up","minWidth","fontSize","withTheme","Boolean","window","location","hostname","match","someTheme","createMuiTheme","secondary","main","primary","ReactDOM","render","core_styles","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ogBAEeA,EAAA,SAACC,GACZ,OACIC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,SAAUC,MAAO,OAAQC,OAAM,GAAAC,OAAK,EAAIR,EAAMS,OAAf,MAA2BC,IAAKV,EAAMU,IAAKC,QAASX,EAAMY,kCCmBjHC,EAAS,CAACC,UAAW,GAAIC,YAAa,GAAIC,OAAQ,IAElDC,EAAc,SAACC,GACnBC,QAAQC,IAAI,SAAWF,GACvB,IAAIG,EAAYH,EAAKI,eAAeC,KAAKC,cACzCX,EAAOQ,GAAaH,EAAKI,eAWzB,IATA,IAAIG,EAAgB,GAEZC,EAAWR,EAAKI,eAAhBI,OAOAC,EAAI,EAAGC,EAAI,EAAGH,EAAcI,OAAShB,EAAOQ,GAAWS,QAASH,IACtEF,EAAcM,KAAKL,EAAOE,GAAGI,MAAQL,EAAID,EAAOE,KAAO,CAACI,IAAKL,EAAIM,WAAY,GAAIC,aAAc,EAAIC,QAAS,KAG9GtB,EAAOQ,GAAWK,OAASD,GAGvBW,EAAqB,SAArBA,EAAsBC,GAE1B,IAAIC,EAAQ,2DAAA9B,OAA8D6B,GAC1ElB,QAAQC,IAAI,aAAekB,GAC3BC,MAAMD,GACLE,KAAK,SAACC,GACL,OAAOA,EAASvB,SACfsB,KAAKvB,GAAayB,MAAM,SAACC,GAC1BxB,QAAQC,IAAI,iBAAkBuB,GAC9BxB,QAAQC,IAAI,qBAAuBuB,GAEnB,iBAANA,GACRxB,QAAQC,IAAI,YAAcwB,OAAOC,KAAKF,IAGxCP,EAAmBC,MAKvB,IAAI,IAAIV,KAAKd,EACXuB,EAAmBT,GAGrB,IA2DMmB,aACJ,SAAAA,EAAYC,EAAQC,GAAMJ,OAAAK,EAAA,EAAAL,CAAAM,KAAAJ,GACxBI,KAAKC,QAAUJ,EACfG,KAAKE,MAAQJ,EACbE,KAAKG,aAAe,qDAGpB,OAAOH,KAAKC,qCAGZ,OAAOD,KAAKE,0CAGZ,OAAOF,KAAKG,2BAEEC,GACdJ,KAAKG,aAAeC,WAIlBC,EAAO,CACZ,IAAIT,EAAI,OAAQ,0BACf,IAAIA,EAAI,OAAQ,yBAChB,IAAIA,EAAI,OAAQ,QAChB,IAAIA,EAAI,UAAW,gCACnB,IAAIA,EAAI,QAAS,yBACjB,IAAIA,EAAI,QAAS,uBACjB,IAAIA,EAAI,SAAU,cAClB,IAAIA,EAAI,SAAU,aAClB,IAAIA,EAAI,UAAW,4CAEfU,EAAa,CAAC,YAAa,cAAe,UAE1CC,eACJ,SAAAA,EAAYzD,GAAM,IAAA0D,EAAA,OAAAd,OAAAK,EAAA,EAAAL,CAAAM,KAAAO,IAEhBC,EAAAd,OAAAe,EAAA,EAAAf,CAAAM,KAAAN,OAAAgB,EAAA,EAAAhB,CAAAa,GAAAI,KAAAX,KAAMlD,KAuBR8D,mBAAqB,WAChBjD,EAAOC,UAAUY,QAAUb,EAAOE,YAAYW,QAAUb,EAAOG,OAAOU,QACvEgC,EAAKK,SAAS,SAACC,EAAWhE,GAAZ,MAAqB,CACjCiE,gBAAkBpD,EAAO2C,EAAWQ,EAAUE,QAAQxC,OAAOsC,EAAUhC,KAAO,GAAGE,iBA5BrEwB,EAiClBS,gBAAkB,SAACC,GAEjB,IAAMC,EAAQ,iDAAA7D,OAAoDgD,EAAWE,EAAKY,MAAMJ,OAA1E,KAAA1D,OAAoFkD,EAAKY,MAAMtC,KACvGuC,EAAI3B,OAAA4B,EAAA,EAAA5B,QAAA4B,EAAA,EAAA5B,CAAAc,IACVnB,MAAM8B,GACL7B,KAAK,SAASC,GACb,OAAOA,EAASvB,SACfsB,KAAK,SAAStB,GAGf,IAAIuD,EAFJF,EAAKG,qBAAqBxD,EAAKQ,QAG/B6C,EAAKR,SAAS,SAACC,EAAWhE,GAGxB,OAFAyE,EAA6B,IAApBT,EAAUE,MAAc,OAAS,SAEnC,CACLxC,OAAQR,EAAKQ,OACboB,IAAK2B,EACLE,cAAeX,EAAUE,SAG7BK,EAAKK,WAAWH,KACf/B,MAAM,SAASC,GAChBxB,QAAQC,IAAI,iBAAkBuB,MAvDhBe,EA6DlBkB,WAAa,SAACC,GAOV,IAAIC,EAAS,GACPC,EAAeF,EAAQG,cAE7B,IAAI,IAAIrD,KAAK+B,EAAKY,MAAM5C,OAGtB,GAAGqD,IAAiBrB,EAAKY,MAAM5C,OAAOC,GAAGsD,OAAO1D,KAAK,CACnD,IAAI2D,EAAM,IAAIC,MACdD,EAAIxE,IAAMgD,EAAKY,MAAM5C,OAAOC,GAAGyD,QAE7BF,EAAIG,OAAS,aAGbH,EAAII,QAAU,aAKhBR,EAAO/C,KAAKmD,GAIhBxB,EAAKK,SAAS,SAACC,EAAWhE,GAAZ,MACZ,CACAuF,YAAaT,EAAOjD,OACpB2D,aAAY,GAAAhF,OAAMsE,GAClBW,YAAaX,EAAOjD,OAAS,EAAI,EAAI,MA9FzB6B,EAyGlBgC,gBAAkB,SAACtB,GAEjBV,EAAKK,SAAS,CACZjB,IAAKsB,EAAGuB,OAAOC,QAEjBlC,EAAKkB,WAAWR,EAAGuB,OAAOC,QA9GVlC,EAiHlBmC,mBAAqB,SAACzB,EAAIwB,GACxBlC,EAAKK,SAAS,CACZ0B,YAAaG,KAnHClC,EAuHlBoC,kBAAoB,SAAC1B,GAEnBV,EAAKK,SAAS,CACZG,MAAOE,EAAGuB,OAAOC,QAInBlC,EAAKI,sBA9HWJ,EAkIlBqC,gBAAkB,SAAC3B,GAAM,IACfwB,EAAUxB,EAAGuB,OAAbC,MACL,QAAQI,KAAKJ,IAAWA,GAAS,GAAMA,EAAQ/E,EAAO2C,EAAWE,EAAKY,MAAMJ,QAAQpC,UACrF4B,EAAKK,SAAS,CAAC/B,IAAK,OAAOgE,KAAKJ,GAAS,EAAIA,EAAMK,QAAQ,MAAO,MAClEvC,EAAKI,uBAtISJ,EA2IlBgB,qBAAuB,SAAChD,GACtBgC,EAAKK,SAAS,SAACC,EAAWhE,GAExB,IAAIkG,EAAsB,CAACC,KAAO,EAAGC,KAAO,EAAGC,KAAO,EAAGC,QAAU,EAAGC,MAAQ,EAAGC,MAAQ,EAAGC,OAAS,EAAGC,OAAS,EAAGC,QAAU,GAE9H,IAAI,IAAIhF,KAAKD,EACXwE,EAAoBxE,EAAOC,GAAGsD,OAAO1D,QAErC,MAAO,CAACqF,UAAW5C,EAAU4C,UAAUC,IAAI,SAACC,EAAMzE,GAAP,OACzC2B,EAAUE,QAAU7B,EACpByE,EAAKD,IAAI,SAACE,GAER,IAAIC,EAAU,CAACjE,OAAQgE,EAAMhE,OAAQC,KAAM+D,EAAM/D,KAAMuC,YAAa,GACpE,OAAA3C,OAAAqE,EAAA,EAAArE,CAAA,GAAWoE,EAAX,CAAoBzB,YAAaW,EAAoBa,EAAMhE,OAAOiC,mBAElE8B,QAvJRpD,EAAKY,MAAQ,CACXmB,YAAa,EACbvB,MAAO,EAGPS,cAAc,EAGdY,YAAY,EACZzC,IAAK,GACLd,IAAK,IACLiC,gBAAiB,KACjBuB,aAAa,GACb9D,OAAQ,GACRkF,UAAY,CACV,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGC,IAAI,SAACC,GAAD,OAASvD,EAAKuD,KAClC,CAAC,EAAE,EAAE,EAAE,EAAE,GAAGD,IAAI,SAACC,GAAD,OAASvD,EAAKuD,KAC9B,CAAC,EAAE,EAAE,EAAE,EAAE,GAAGD,IAAI,SAACC,GAAD,OAASvD,EAAKuD,OApBlBpD,wEA8JV,IAAAwD,EAAAhE,KACEiE,EAAYjE,KAAKlD,MAAjBmH,QACR,OAEElH,EAAAC,EAAAC,cAACF,EAAAC,EAAMkH,SAAP,KACEnH,EAAAC,EAAAC,cAACkH,EAAAnH,EAAD,MACAD,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAQqH,SAAS,SAASC,UAAWL,EAAQM,QAC3CxH,EAAAC,EAAAC,cAACuH,EAAAxH,EAAD,KACED,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAa0H,QAAQ,KAAKC,MAAM,UAAUC,QAAM,GAAhD,gBAKJ7H,EAAAC,EAAAC,cAAA,YAEEF,EAAAC,EAAAC,cAAA,OAAKqH,UAAWL,EAAQY,UACtB9H,EAAAC,EAAAC,cAAA,OAAKqH,UAAWL,EAAQa,aACtB/H,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAY+H,UAAU,KAAKL,QAAQ,KAAKM,MAAM,SAASL,MAAM,cAAcM,cAAY,GAAvF,cAGAlI,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAYsH,UAAWL,EAAQiB,MAAOR,QAAQ,KAAKM,MAAM,SAASL,MAAM,gBAAgBQ,WAAS,GAAjG,kJAGApI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAMqI,WAAS,EAACC,QAAS,GAAIC,QAAQ,eAAeC,WAAW,UAC7DzI,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,EAAGC,GAAI,GACtB3I,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAMqI,WAAS,EAACE,QAAQ,UACxBxI,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,CAAasH,UAAWL,EAAQ2B,aAChC7I,EAAAC,EAAAC,cAAC4I,EAAA7I,EAAD,CAAY8I,QAAM,GAAlB,SAGA/I,EAAAC,EAAAC,cAAC8I,EAAA/I,EAAD,CACE0F,MAAO1C,KAAKoB,MAAMJ,MAClBgF,SAAUhG,KAAK4C,kBACfqD,MAAOlJ,EAAAC,EAAAC,cAACiJ,EAAAlJ,EAAD,CAAOqB,KAAK,UACnB8H,cAAY,EACZ9H,KAAK,QACLiG,UAAWL,EAAQmC,aAIrBrJ,EAAAC,EAAAC,cAACoJ,EAAArJ,EAAD,CAAU0F,MAAO,GAAjB,aACA3F,EAAAC,EAAAC,cAACoJ,EAAArJ,EAAD,CAAU0F,MAAO,GAAjB,eACA3F,EAAAC,EAAAC,cAACoJ,EAAArJ,EAAD,CAAU0F,MAAO,GAAjB,WAGF3F,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,SAIED,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,EAAGC,GAAI,GAEtB3I,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,CAAasH,UAAWL,EAAQ2B,aAChC7I,EAAAC,EAAAC,cAAC4I,EAAA7I,EAAD,CAAY8I,QAAM,GAAlB,UAGA/I,EAAAC,EAAAC,cAAC8I,EAAA/I,EAAD,CACE0F,MAAO1C,KAAKoB,MAAMxB,IAClBoG,SAAUhG,KAAKwC,gBACfyD,MAAOlJ,EAAAC,EAAAC,cAACiJ,EAAAlJ,EAAD,CAAOqB,KAAK,QACnB8H,cAAY,EACZ9H,KAAK,MACLiG,UAAWL,EAAQmC,aAIpBpG,KAAKoB,MAAMsC,UAAU1D,KAAKoB,MAAMK,eAAekC,IAAI,SAACC,EAAMzE,GAAP,OACjDyE,EAAKvB,YAAc,GAAK2B,EAAK5C,MAAMxB,MAAQgE,EAAK/D,SACjD9C,EAAAC,EAAAC,cAACoJ,EAAArJ,EAAD,CACEuJ,IAAKpH,EACLuD,MAAOkB,EAAK/D,QACX+D,EAAK9D,KAHR,KAAAxC,OAGmBsG,EAAKvB,YAHxB,SAOJtF,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,QAKED,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,EAAGC,GAAI,GACtB3I,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAMqI,WAAS,EAACE,QAAQ,UACxBxI,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,CAAasH,UAAWL,EAAQ2B,aAChC7I,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACEsH,UAAWL,EAAQwC,WACnBC,MAAM,MACNhE,MAAQ1C,KAAKoB,MAAMtC,IACnBkH,SAAUhG,KAAK6C,gBACf8D,KAAK,SACLC,WAAU,MAAAtJ,OAAQK,EAAO2C,EAAWN,KAAKoB,MAAMJ,QAAQpC,QAAU,GAAK,MACtEiI,gBAAiB,CACff,QAAQ,QAOZ/I,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,EAAGC,GAAI,GAEtB3I,EAAAC,EAAAC,cAAC6J,EAAA9J,EAAD,CAAQ+J,QAAS/G,KAAKiB,gBAAiByD,QAAQ,YAAYC,MAAM,UAAUL,UAAWL,EAAQ+C,QAA9F,QAGAjK,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,KAAiBgD,KAAKoB,MAAML,gBAA5B,sBAGAhE,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,IACf1I,EAAAC,EAAAC,cAACgK,EAAAjK,EAAD,CAEEsH,UAAYL,EAAQiD,OACpBxE,MAAO1C,KAAKoB,MAAMmB,YAClB4E,IAAK,EACLC,IAAKpH,KAAKoB,MAAMiB,YAChBgF,KAAM,EACNrB,SAAUhG,KAAK2C,sBAGjB5F,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAM4G,MAAI,EAAC6B,GAAI,GACf1I,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAY0H,QAAQ,KAAKM,MAAM,SAASL,MAAM,gBAAgBQ,WAAS,GACpEnF,KAAKoB,MAAMmB,kBAUtBxF,EAAAC,EAAAC,cAAA,OAAKqH,UAAWgD,IAAWrD,EAAQsD,OAAQtD,EAAQuD,WAEjDzK,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAMqI,WAAS,EAACC,QAAS,GAAKhB,UAAWL,EAAQwD,gBAE9CzH,KAAKoB,MAAMkB,aAAaqB,IAAI,SAACC,EAAMzE,GAAP,OAC3BpC,EAAAC,EAAAC,cAACJ,EAAD,CAAuBU,OAAQqG,EAAKxG,MAAMwG,EAAKvG,OAC7CK,KAAMsG,EAAK5C,MAAMmB,YAAc,IAAMpD,EACrC3B,IAAKoG,EAAKpG,IAAK+I,IAAK3C,EAAKpG,IACzBkK,IAAG,SAAApK,OAAW6B,kBAxSdwI,IAAMC,WAuTTC,wBAnZA,SAACC,GAEd,MAAO,CACLZ,OAAO,CACLa,QAASD,EAAMxC,QAAQ0C,MAGzBC,gBAAgB,GAGhBxB,WAAW,GAGXgB,eAAe,CACbS,UAAW,UAEb3D,OAAQ,CACNF,SAAU,WACVjH,MAAO,QAET4J,OAAO,CACL7J,OAAQ2K,EAAMxC,QAAQ0C,MAExBnD,SAAU,CACRsD,gBAAiBL,EAAMM,QAAQC,WAAWC,MAC1ClL,MAAO,QAET0H,YAAa,CACXyD,SAAU,IACVpL,OAAQ,SACR4K,QAAO,GAAAzK,OAA0B,EAArBwK,EAAMxC,QAAQ0C,KAAnB,SAAA1K,OAAwD,EAArBwK,EAAMxC,QAAQ0C,KAAjD,OAETT,OAAO7H,OAAA8I,EAAA,EAAA9I,CAAA,CACLtC,MAAO,OACPqL,WAAiC,EAArBX,EAAMxC,QAAQ0C,KAC1BU,YAAkC,EAArBZ,EAAMxC,QAAQ0C,MAC1BF,EAAMa,YAAYC,GAAG,KAA4B,EAArBd,EAAMxC,QAAQ0C,KAAW,GAAK,CACzD5K,MAAO,KACPqL,WAAY,OACZC,YAAa,SAGjBlB,SAAU,CACRO,QAAO,GAAAzK,OAA0B,EAArBwK,EAAMxC,QAAQ0C,KAAnB,SAETpC,YAAa,CACXzI,OAAQ2K,EAAMxC,QAAQ0C,KACtB5K,MAAO,KAGT2E,OAAO,CACL8G,SAAU,IAEZ3D,MAAM,CACJ4D,SAAU,WA6ViB,CAACC,WAAW,GAA9BlB,CAAsCtH,IC7cjCyI,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCTN,IAAMC,GAAYC,yBAAe,CAC7BlB,QAAS,CACLzB,KAAM,OAEN4C,UAAW,CACTC,KAAM,WAERC,QAAS,CACLD,KAAM,cAKlBE,IAASC,OAAO5M,EAAAC,EAAAC,cAAC2M,EAAA,iBAAD,CAAkB9B,MAAOuB,IAAWtM,EAAAC,EAAAC,cAAC4M,GAAD,OAA4BC,SAASC,eAAe,SD2GlG,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5K,KAAK,SAAA6K,GACjCA,EAAaC","file":"static/js/main.943143d7.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport default (props) =>{\r\n    return (\r\n        <img style={{ margin: '0 auto', width: '100%', height: `${1 / props.aspect}%`}} src={props.src} hidden={!props.show}/>\r\n    )\r\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport Slider from '@material-ui/lab/Slider';\nimport DynamicPreloadedImage from './DynamicPreloadedImage'\nimport 'whatwg-fetch';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\n\n//manifest objects to store useful information about each rover\nconst rovers = {curiosity: {}, opportunity: {}, spirit: {}};\n\nconst setManifest = (json) => {\n  console.log('json: ' + json);\n  var roverName = json.photo_manifest.name.toLowerCase();\n  rovers[roverName] = json.photo_manifest;\n\n  var newPhotoArray = [];\n\n  const { photos } = json.photo_manifest;\n\n\n  // since the sols with 0 photos completely omit the element from the array,\n  // re-map the array with placeholder elements with value of 0 to make  \n  // it easier to navigate\n\n  for(let i = 0, j = 0; newPhotoArray.length < rovers[roverName].max_sol; i++){\n    newPhotoArray.push(photos[j].sol === i ? photos[j++] : {sol: i , earth_date: '', total_photos: 0 , cameras: []});\n  }\n\n  rovers[roverName].photos = newPhotoArray;\n};\n\nconst initializeManifest = (index) =>{\n  \n  let fetchurl = `https://shielded-woodland-10835.herokuapp.com/manifests/${index}`;\n  console.log('fetchurl: ' + fetchurl);\n  fetch(fetchurl)\n  .then((response) => {\n    return response.json()\n  }).then(setManifest).catch((ex) => {\n    console.log('parsing failed', ex);\n    console.log('typeof ex: ' + typeof ex);\n\n    if(typeof ex == 'object'){\n      console.log('ex keys: ' + Object.keys(ex));\n    }\n\n    initializeManifest(index);\n  });\n\n}\n\nfor(let i in rovers){\n  initializeManifest(i);\n}\n\nconst styles = (theme) => {\n  \n  return {\n    slider:{\n      padding: theme.spacing.unit\n      \n    },\n    totalSolDisplay:{\n      \n    },\n    solSpinner:{\n      \n    },\n    imageContainer:{\n      minHeight: '1000px',\n    },\n    appBar: {\n      position: 'relative',\n      width: '100%'\n    },\n    button:{\n      margin: theme.spacing.unit\n    },\n    heroUnit: {\n      backgroundColor: theme.palette.background.paper,\n      width: '100%'\n    },\n    heroContent: {\n      maxWidth: 600,\n      margin: '0 auto',\n      padding: `${theme.spacing.unit * 4}px 0 ${theme.spacing.unit * 3}px`,\n    },\n    layout: {\n      width: 'auto',\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3,\n      [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n        width: 1100,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    cardGrid: {\n      padding: `${theme.spacing.unit * 8}px 0`,\n    },\n    formControl: {\n      margin: theme.spacing.unit,\n      width: 120,\n\n    },\n    camera:{\n      minWidth: 80\n    },\n    brief:{\n      fontSize: '.75em'\n    }\n  }\n};\n\nclass cam{\n  constructor(abbrev, full){\n    this._abbrev = abbrev;\n    this._full = full;\n    this._totalPhotos = 0;\n  }\n  get abbrev(){\n    return this._abbrev;\n  }\n  get full(){\n    return this._full;\n  }\n  get totalPhotos(){\n    return this._totalPhotos;\n  }\n  set totalPhotos(total){\n    this._totalPhotos = total;\n  }\n}\n\nconst cams = [\n new cam('fhaz', 'Front Hazard Avoidance'),\n  new cam('rhaz', 'Rear Hazard Avoidance'),\n  new cam('mast', 'Mast'),\n  new cam('chemcam', 'Chemistry and Camera Complex'),\n  new cam('mahli', 'Mars Hand Lens Imager'),\n  new cam('mardi', 'Mars Descent Imager'),\n  new cam('navcam', 'Navigation'),\n  new cam('pancam', 'Panoramic'),\n  new cam('minites', 'Miniature Thermal Emission Spectrometer')\n];\nconst roverNames = ['curiosity', 'opportunity', 'spirit'];\n\nclass App extends React.Component{\n  constructor(props){\n    \n    super(props);\n    this.state = {\n      sliderValue: 0,\n      rover: 0,       // index to select which of the three rovers (0: curiosity, 1: opportunity, 2: spirit),\n                      // used for the select menu\n\n      roverCamIndex:0,// gets updated with the value of rover when load is clicked.  This is the value\n                      // which is actually used to pull data.\n\n      totalPhotos:0,  // total photos for this rover on this sol (as opposed to a specific camera)\n      cam: '',\n      sol: '0',\n      photosAvailable: 3702,\n      imageObjects:[],\n      photos: [],\n      roverCams : [\n        [0,1,2,3,4,5,6].map((item)=> cams[item]),\n        [0,1,6,7,8].map((item)=> cams[item]),\n        [0,1,6,7,8].map((item)=> cams[item])\n      ]\n    }\n  }\n\n  getAvailablePhotos = () =>{\n    if(rovers.curiosity.photos && rovers.opportunity.photos && rovers.spirit.photos){\n      this.setState((prevState, props)=>({\n        photosAvailable : rovers[roverNames[prevState.rover]].photos[prevState.sol || 0].total_photos\n      }));\n    }\n  }\n\n  handleLoadClick = (ev) => {\n    \n    const fetchUrl = `https://shielded-woodland-10835.herokuapp.com/${roverNames[this.state.rover]}/${this.state.sol}`;\n    const self = this;\n    fetch(fetchUrl)\n    .then(function(response) {\n      return response.json()\n    }).then(function(json) {\n      self.setCameraDistrubtion(json.photos);\n      \n      var newCam;\n      self.setState((prevState, props) => {\n        newCam = prevState.rover === 0 ? 'mast' : 'pancam';\n        \n        return {\n          photos: json.photos,\n          cam: newCam,\n          roverCamIndex: prevState.rover\n        }\n      });\n      self.loadImages(newCam);\n    }).catch(function(ex) {\n      console.log('parsing failed', ex)\n    });\n    \n  }\n\n  \n  loadImages = (camName) => {\n    // Thought I needed promises, but looks like I can let the user\n      // start browsing the partially loaded photos before they're all \n      // loaded.\n\n      // Will leave it commented for now but probably will delete it entirely\n      //var promises = [];\n      var images = [];\n      const camNameUpper = camName.toUpperCase();\n      \n      for(let i in this.state.photos){\n\n        // Selectively load the images from the camera the user selects, only once they've selected it.\n        if(camNameUpper === this.state.photos[i].camera.name){\n          let img = new Image();\n          img.src = this.state.photos[i].img_src;\n          //promises.push(new Promise((resolve, reject)=>{\n            img.onload = () =>{\n              //resolve(img.src);\n            }\n            img.onerror = () =>{\n              //reject(img.src);\n            }\n          //}));\n\n          images.push(img);\n        }\n      }\n\n      this.setState((prevState, props) =>(\n        {\n        totalPhotos: images.length,//prevState.photos.length,\n        imageObjects: [...images],/* , prevState.imageObjects */\n        sliderValue: images.length > 0 ? 1 : 0\n      }));\n\n      /* Promise.all(promises).then(()=>{\n        console.log('all images loaded');\n        \n      }).catch((errUrl)=>{\n        console.log('failed to load: ' + errUrl);\n      }); */\n  }\n\n  handleCamChange = (ev) =>{\n    \n    this.setState({\n      cam: ev.target.value\n    });\n    this.loadImages(ev.target.value);\n  }\n  \n  handleSliderChange = (ev, value) =>{\n    this.setState({\n      sliderValue: value\n    });\n  }\n\n  handleRoverChange = (ev) =>{\n    \n    this.setState({\n      rover: ev.target.value,\n      \n    });\n    \n    this.getAvailablePhotos();\n  }\n  \n\n  handleSolChange = (ev) =>{\n    const { value } = ev.target;\n    if(/^\\d*$/.test(value) &&  value >= 0  && value < rovers[roverNames[this.state.rover]].max_sol ){ // make sure the number is a number and is in range\n      this.setState({sol: /^0?$/.test(value) ? 0 : value.replace(/^0*/, '')}); // see if input is 0 or empty string, otherwise trim leading zeros\n      this.getAvailablePhotos();\n    }\n  }\n\n  // This is to update the photo count next to each camera in the select menu\n  setCameraDistrubtion = (photos) => {\n    this.setState((prevState, props) => {\n\n      var cameraPhotoCountMap = {'FHAZ':0, 'RHAZ':0, 'MAST':0, 'CHEMCAM':0, 'MAHLI':0, 'MARDI':0, 'NAVCAM':0, 'PANCAM':0, 'MINITES':0};\n\n      for(let i in photos)\n        cameraPhotoCountMap[photos[i].camera.name]++; \n\n        return {roverCams: prevState.roverCams.map((item, index) => \n          prevState.rover === index ? \n          item.map((_item) => {\n            // Spread operator only seems to work on object literals, making this variable necessary:\n            let tempCam = {abbrev: _item.abbrev, full: _item.full, totalPhotos: 0};\n            return({...tempCam, totalPhotos: cameraPhotoCountMap[_item.abbrev.toUpperCase()]})\n          }) \n          : item)}\n    });\n  }\n\n  render(){\n    const { classes } = this.props;\n    return (\n     \n      <React.Fragment>\n        <CssBaseline />\n        <AppBar position=\"static\" className={classes.appBar}>\n          <Toolbar>\n            <Typography  variant=\"h6\" color=\"inherit\" noWrap>\n            Rover View\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <main>\n          {/* Hero unit */}\n          <div className={classes.heroUnit}>\n            <div className={classes.heroContent}>\n              <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n                Rover View\n              </Typography>\n              <Typography className={classes.brief} variant=\"h6\" align=\"center\" color=\"textSecondary\" paragraph>\n                Choose a rover, camera, and sol(Martian day, starting from the beginning of the mission), click load, and use the slider to animate the images\n              </Typography>\n              <div >\n                <Grid container spacing={16} justify=\"space-evenly\" alignItems=\"center\" >\n                  <Grid item xs={6} sm={3} >\n                  <Grid container justify=\"center\">\n                  <FormControl className={classes.formControl}>\n                  <InputLabel shrink >\n                    Rover\n                  </InputLabel>\n                  <Select\n                    value={this.state.rover}\n                    onChange={this.handleRoverChange}\n                    input={<Input name=\"rover\"/>}\n                    displayEmpty\n                    name=\"rover\"\n                    className={classes.selectEmpty}\n                  >\n\n                  \n                  <MenuItem value={0}>Curiosity</MenuItem>\n                  <MenuItem value={1}>Opportunity</MenuItem>\n                  <MenuItem value={2}>Spirit</MenuItem>\n                  \n                </Select>\n                <FormHelperText/>\n                    </FormControl>\n                  </Grid>\n                  </Grid>\n                  <Grid item xs={6} sm={3} >\n                  \n                  <FormControl className={classes.formControl}>\n                  <InputLabel shrink >\n                    Camera\n                  </InputLabel>\n                  <Select\n                    value={this.state.cam}\n                    onChange={this.handleCamChange}\n                    input={<Input name=\"cam\"/>}\n                    displayEmpty\n                    name=\"cam\"\n                    className={classes.selectEmpty}\n                    \n                  >\n                  \n                  {this.state.roverCams[this.state.roverCamIndex].map((item, index) => \n                    (item.totalPhotos > 0 || this.state.cam === item.abbrev) && \n                    <MenuItem \n                      key={index} \n                      value={item.abbrev}>\n                      {item.full}{` (${item.totalPhotos})`} \n                      </MenuItem>)}\n                  \n                </Select>\n                <FormHelperText></FormHelperText>\n            \n                    </FormControl>\n                 \n                  </Grid>\n                  <Grid item xs={6} sm={3} >\n                  <Grid container justify=\"center\">\n                  <FormControl className={classes.formControl}>\n                  <TextField \n                    className={classes.solSpinner}\n                    label=\"Sol\"\n                    value={(this.state.sol)}\n                    onChange={this.handleSolChange}\n                    type=\"number\"\n                    helperText={`of ${rovers[roverNames[this.state.rover]].max_sol - 1 || 2360}`}\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    \n                  />\n                  </FormControl>\n                  </Grid>\n                  </Grid>\n                  <Grid item xs={6} sm={3}>\n                  \n                  <Button onClick={this.handleLoadClick} variant=\"contained\" color=\"primary\" className={classes.button} >\n                    Load\n                  </Button>\n                  <FormHelperText>{this.state.photosAvailable} photos available</FormHelperText>\n                  </Grid>\n                  \n                  <Grid item xs={10}>\n                  <Slider\n                    \n                    className={ classes.slider }\n                    value={this.state.sliderValue}\n                    min={1}\n                    max={this.state.totalPhotos}\n                    step={1}\n                    onChange={this.handleSliderChange}\n                  />\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography variant=\"h6\" align=\"center\" color=\"textSecondary\" paragraph>\n                    {this.state.sliderValue}\n                  </Typography>\n                  </Grid>\n\n                </Grid>\n\n                \n              </div>\n            </div>\n          </div>\n          <div className={classNames(classes.layout, classes.cardGrid)}>\n            {/* End hero unit */}\n            <Grid container spacing={16}  className={classes.imageContainer}>\n\n              {this.state.imageObjects.map((item, index)=>\n                <DynamicPreloadedImage aspect={item.width/item.height} \n                  show={this.state.sliderValue - 1 === index} \n                  src={item.src} key={item.src} \n                  alt={`frame ${index}`}/>)}\n              \n            </Grid>\n          </div>\n        </main>\n        </React.Fragment>\n      \n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles,{withTheme: false})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport blue from '@material-ui/core/colors/blue';\n\nconst someTheme = createMuiTheme({\n    palette: {\n        type: 'dark',\n        \n        secondary: {\n          main: '#b71c1c',\n        },\n        primary: {\n            main: '#ab5810',\n          },\n      },\n});\n\nReactDOM.render(<MuiThemeProvider theme={someTheme}><App /></MuiThemeProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}